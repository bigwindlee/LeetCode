|LeetCode|要点|
|--------------------------------|--------------------------------|
|[218. 天际线问题][github-leetcode-0218]|当最大高度发生变化时，一定会遇到一个新的关键点；|


### 扫描线算法
**扫描线算法**（**Scanline Algorithm**）是一种用于解决几何问题的经典算法。它主要用于计算多个线段或区间的重叠区域，适用于一维或二维的范围查询，常见于图形学、计算几何和某些特定类型的区间问题中。在 LeetCode 等竞赛平台中，扫描线算法常被用于处理区间并集、求重叠区域、最大或最小覆盖面积等问题。

### 核心思想
扫描线算法的核心思想是“事件驱动”，即通过对事件的排序，逐个处理这些事件，动态维护一个当前状态集合，从而解决问题。基本步骤如下：
1. **事件表示**：将问题中的几何对象（如区间、矩形）转换为一系列事件。例如，区间的左右端点、矩形的左边和右边等。
2. **事件排序**：将所有事件按某种规则（通常是左到右的顺序）排序处理。
3. **状态更新**：从左到右扫描事件，在扫描过程中动态维护当前活动的区间集合或区域。
4. **结果计算**：根据当前状态计算所需的结果，例如重叠的长度、面积等。

扫描线算法通常结合 **堆** 或 **平衡二叉搜索树** 来维护动态的状态集合，以支持高效的插入和删除操作。

### 应用场景
- **图形学中的可见性问题**：在图形学中，扫描线算法被广泛应用于处理多边形的填充、线段的遮挡问题等。
- **计算重叠区间**：例如，给定多个区间，计算它们的并集或重叠的部分。
- **矩形重叠问题**：在二维平面中计算矩形的总覆盖面积或重叠面积。
  
### 扫描线算法的步骤（示例）
以二维平面上的矩形覆盖问题为例：
1. 将矩形的左边界和右边界视为“事件”。每个矩形的左边界表示“进入”一个新的矩形，右边界表示“退出”当前的矩形。
2. 通过扫描线从左到右处理这些边界，在每次处理边界时维护当前被扫描线覆盖的所有矩形的纵坐标范围。
3. 当扫描线移动时，更新覆盖的矩形高度，并计算面积的变化。

### LeetCode 中相关题目
以下是一些与扫描线算法相关的 LeetCode 题目：

1. **LeetCode 218 - The Skyline Problem**
   - 该题要求计算城市天际线的轮廓。通过扫描建筑物的左右边界，并动态更新当前建筑的最大高度，可以逐步构建天际线的轮廓。
   - [题目链接](https://leetcode.com/problems/the-skyline-problem/)

2. **LeetCode 850 - Rectangle Area II**
   - 该题涉及计算多个矩形的总覆盖面积。通过将矩形的边界作为扫描事件，并结合扫描线和堆或树结构来动态维护活动的矩形范围，求解总面积。
   - [题目链接](https://leetcode.com/problems/rectangle-area-ii/)

3. **LeetCode 1094 - Car Pooling**
   - 这道题是经典的区间问题，可以将车站上下车的时间视为事件，通过扫描线的思想动态计算车上的乘客数，确保车辆不会超载。
   - [题目链接](https://leetcode.com/problems/car-pooling/)

4. **LeetCode 253 - Meeting Rooms II**
   - 该题目要求计算需要安排的会议室的最小数量，可以将会议的开始和结束时间作为事件，通过扫描线算法计算同时进行的最大会议数。
   - [题目链接](https://leetcode.com/problems/meeting-rooms-ii/)

### **总结**
扫描线算法的基本思想是通过事件驱动，从左到右扫描几何对象，动态维护某种状态（如活动的区间、矩形等），从而求解复杂的几何问题。它广泛应用于图形学、区间问题等多个领域，能够高效处理区间重叠、覆盖面积等问题。


[github-leetcode-0218]: ../../0218.%20The%20Skyline%20Problem/0218_getSkyline.h
