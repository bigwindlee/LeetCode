|LeetCode|要点|
|-------------------------|---------------------------------|
|136. 只出现一次的数字|异或操作（对比特位的模2加法）|
|[137. 只出现一次的数字 II](https://github.com/bigwindlee/LeetCode/blob/master/0137.%20Single%20Number%20II/0137_singleNumber.h)    |统计每个比特位的1比特出现的次数，对3取模。|
|[191. 位1的个数][github-leetcode-0191]|LOWBIT：利用`n & (n-1)`依次干掉lowbit；|
|[266. 回文排列][github-leetcode-0266]|位运算：小写字母映射成int整型的比特位置索引；偶数次与1比特异或操作结果为0；|
|476. 数字的补数|从高比特位到低比特位的方向，把连续的`1`比特清零；|
|2571. 将整数减少到零需要的最少操作数|LOWBIT：通过`n & -n`提取lowbit；通过加/减lowbit消除连续的`1`比特；|
|面试题 05.06. 整数转换|LOWBIT：统计一个整数的二进制表示中`1`比特的个数，技巧是使用`n&(n-1)`依次干掉lowbit；|
|[面试题 05.07. 配对交换][github-leetcode-I0507]|异或操作：与1异或翻转比特位；|
|面试题 16.07. 最大数值|右移操作：提取表示符号的最高比特位，并把它映射成0（正数）或-1（负数）；|
|面试题 17.01. 不用加号的加法|异或操作：从二进制层面实现加法|
|面试题 17.04. 消失的数字|异或操作：湮灭相同的数字|
|LCR 133. 位 1 的个数|LOWBIT：利用`n & (n-1)`依次干掉lowbit；|
|LCR 190. 加密运算|异或操作：从二进制层面实现加法|



# C++ 位运算技巧总结

C++ 中的位运算是一种非常高效的操作，适合用于解决涉及二进制操作、标志（flag）管理、状态压缩等问题。以下是一些常见的位运算技巧及其适用的场景：

## 1. 基本位运算操作

- **按位与 (`&`)**：用于掩码操作，保留需要的位，其他位清零。
  - 适用场景：提取某个位的值、判断某位是否为 1。
  - 例子：`num & (1 << i)` 用于判断 `num` 的第 `i` 位是否为 1。

- **按位或 (`|`)**：用于设置某些位为 1，而不影响其他位。
  - 适用场景：将某位设为 1。
  - 例子：`num | (1 << i)` 用于将 `num` 的第 `i` 位设为 1。

- **按位异或 (`^`)**：如果两个对应位相同则为 0，不同则为 1。
  - 适用场景：翻转某个位，或用于找出不同的数字。
  - 例子：`num ^ (1 << i)` 用于翻转 `num` 的第 `i` 位。

- **按位取反 (`~`)**：将 0 变为 1，1 变为 0。
  - 适用场景：位翻转，通常用于清零操作。
  - 例子：`num & ~(1 << i)` 用于将 `num` 的第 `i` 位清零。

- **左移 (`<<`)**：将二进制数左移，低位补 0，相当于乘以 2 的若干次方。
  - 适用场景：用于快速计算乘法。
  - 例子：`num << i` 表示 `num` 乘以 2 的 `i` 次方。

- **右移 (`>>`)**：将二进制数右移，高位补符号位或 0，相当于除以 2 的若干次方。
  - 适用场景：用于快速计算除法或判断偶数奇数。
  - 例子：`num >> i` 表示 `num` 除以 2 的 `i` 次方。

## 2. 常见的位运算技巧

- **判断奇偶数**：`num & 1`，如果结果为 0 则是偶数，1 则是奇数。

- **交换两个数**：
  - 使用位运算交换两个数而不用临时变量：
    ```cpp
    a ^= b;
    b ^= a;
    a ^= b;
    ```

- **清零某一位**：`num &= ~(1 << i)`，将 `num` 的第 `i` 位清零。

- **提取某一位**：`(num >> i) & 1`，提取 `num` 的第 `i` 位（从 0 开始）。

- **快速计算 2 的幂**：`1 << n`，计算 2 的 `n` 次幂。

- **求两个数的异或和**：在数组中，所有数进行异或，成对的数字会互相抵消，最终得到唯一没有重复的数。例如，解决“只出现一次的数字”的问题。

- **统计二进制数中 1 的个数**：通过 `n & (n - 1)` 可以每次清除最低位的 1，直到 `n` 变为 0，统计 1 的个数。

## 3. 应用场景

- **状态压缩**：可以用一个整数来表示多个二进制状态位，每个位代表一个布尔状态，这样可以将多个标志存储在一个变量中。
  - 例子：位运算可以用于解决组合问题中的状态问题（如动态规划中压缩状态的表示）。

- **哈希运算与加密**：位运算通常用于生成哈希值或进行简单加密操作，因为其速度快且运算简单。

- **图像处理**：位运算可以用来处理图像中的像素操作，尤其是在需要快速处理每个像素位的场合（如颜色通道提取、位图操作）。

- **权限控制**：在系统中使用位掩码来表示权限，检查某个权限是否启用，或者设置某个权限。

## 4. 常见题型

- **只出现一次的数字**：使用位运算来实现线性时间复杂度的查找。
- **判断 2 的幂**：`n > 0 && (n & (n - 1)) == 0`，判断 `n` 是否是 2 的幂。
- **子集生成问题**：用位运算可以生成集合的所有子集，利用二进制表示来选择是否包含某个元素。

## 总结

位运算是非常强大的工具，适合用于处理 **性能要求高**、**涉及二进制位操作** 的问题，尤其在算法竞赛和底层编程中非常常见。如果你掌握了这些技巧，可以解决很多经典的算法问题。



[github-leetcode-0191]: ../../0191.%20Number%20of%201%20Bits/0191_hammingWeight.h
[github-leetcode-0266]: ../../0266.%20Palindrome%20Permutation/0266_canPermutePalindrome.h
[github-leetcode-I0507]: ../../INTERVIEW05.07.%20Exchange%20LCCI/interview.05.07.h
