|LeetCode|要点|
|------------------------------|------------------------------|
|42. 接雨水||
|[503. 下一个更大元素 II][github-leetcode-0503]|能够踢掉栈顶元素的，一定是首个比它大的值；|
|LCR 152. 验证二叉搜索树的后序遍历序列||

# 单调栈总结
### 1. 什么是单调栈？

单调栈是一种特殊的栈数据结构，其栈内元素按照某种单调性排列，即从栈底到栈顶的元素始终保持递增或递减的顺序。

- **单调递增栈**：栈内元素从栈底到栈顶递增，新的元素只有在小于等于栈顶元素时才入栈。
- **单调递减栈**：栈内元素从栈底到栈顶递减，新的元素只有在大于等于栈顶元素时才入栈。

通过维护这种单调性，单调栈可以在某些问题中高效地获取需要的信息。

---

### 2. 适合解决什么样的问题？

单调栈主要适用于以下类型的问题：

- **下一个更大（小）元素问题**：在一个数组中，对于每个元素，找到其右侧第一个比它大（或小）的元素。
- **区间问题**：需要在数组中快速找到某个元素左右两侧满足某种条件的位置。
- **涉及到栈的模拟，并需要保持某种单调性的问题**。
- **需要在线性时间内解决的、与元素比较相关的问题**。

典型的应用场景包括：

- **气温问题**：预测未来几天内温度升高的天数。
- **股票价格问题**：计算股票价格在当前价格之前连续不超过当前价格的天数。
- **柱状图中的最大矩形面积**：找到矩形的最大面积。

---

### 3. 使用单调栈解决问题的核心要点

- **维护单调性**：在遍历元素时，通过入栈和出栈操作，始终保持栈内元素的单调性。
- **入栈和出栈条件**：根据题目要求，确定何时需要将元素入栈，何时需要出栈。通常，当遇到破坏单调性的元素时，需要进行出栈操作。
- **记录索引或值**：栈中可以存储元素的索引或实际值，具体取决于问题的需求。
- **处理边界条件**：在遍历过程中，需要注意数组的边界，确保不会出现越界访问。
- **时间复杂度为 O(n)**：由于每个元素最多入栈和出栈一次，整体时间复杂度为线性。

---

### 4. LeetCode 中与“单调栈”相关的问题

以下是 LeetCode 上一些典型的与单调栈相关的问题：

1. **739. 每日温度（Daily Temperatures）**

   - **题目描述**：对于每日气温，计算需要多少天之后温度才会升高。
   - **链接**：[每日温度 - LeetCode](https://leetcode.cn/problems/daily-temperatures/)

2. **496. 下一个更大元素 I（Next Greater Element I）**

   - **题目描述**：找到数组中每个元素右边第一个比它大的元素。
   - **链接**：[下一个更大元素 I - LeetCode](https://leetcode.cn/problems/next-greater-element-i/)

3. **503. 下一个更大元素 II（Next Greater Element II）**

   - **题目描述**：在环形数组中，找到每个元素的下一个更大元素。
   - **链接**：[下一个更大元素 II - LeetCode](https://leetcode.cn/problems/next-greater-element-ii/)

4. **84. 柱状图中最大的矩形（Largest Rectangle in Histogram）**

   - **题目描述**：给定柱状图，求最大的矩形面积。
   - **链接**：[柱状图中最大的矩形 - LeetCode](https://leetcode.cn/problems/largest-rectangle-in-histogram/)

5. **42. 接雨水（Trapping Rain Water）**

   - **题目描述**：计算柱状图中能够接的雨水总量。
   - **链接**：[接雨水 - LeetCode](https://leetcode.cn/problems/trapping-rain-water/)

6. **316. 去除重复字母（Remove Duplicate Letters）**

   - **题目描述**：在保持字符顺序的情况下，去除重复字母，使得结果字典序最小。
   - **链接**：[去除重复字母 - LeetCode](https://leetcode.cn/problems/remove-duplicate-letters/)

7. **901. 股票价格跨度（Online Stock Span）**

   - **题目描述**：计算股票价格在当前价格之前连续不超过当前价格的天数。
   - **链接**：[股票价格跨度 - LeetCode](https://leetcode.cn/problems/online-stock-span/)

8. **85. 最大矩形（Maximal Rectangle）**

   - **题目描述**：在二维矩阵中，找到只包含 1 的最大矩形，并返回其面积。
   - **链接**：[最大矩形 - LeetCode](https://leetcode.cn/problems/maximal-rectangle/)

9. **1019. 链表中的下一个更大节点（Next Greater Node In Linked List）**

   - **题目描述**：对于链表中的每个节点，找到其后面第一个比它大的节点值。
   - **链接**：[链表中的下一个更大节点 - LeetCode](https://leetcode.cn/problems/next-greater-node-in-linked-list/)

---

### 5. 总结

- **单调栈是一种高效解决特定类型问题的工具**，特别是在需要快速找到下一个更大或更小元素的问题中。
- **核心是维护栈的单调性**，通过合理的入栈和出栈操作，实现对元素的高效管理。
- **在使用单调栈时，要注意元素的比较方向和单调性的选择（递增或递减）**，这取决于具体问题的要求。
- **通过练习上述列举的经典题目，可以深入理解单调栈的应用场景和技巧**。

---

希望以上总结能帮助您更好地理解单调栈的概念和应用。如有任何疑问，欢迎继续提问！


[github-leetcode-0503]: ../../0503.%20Next%20Greater%20Element%20II/0503_nextGreaterElements.h
