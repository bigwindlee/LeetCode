### 并查集简介

并查集（Union-Find）是一种用于管理**不相交集合**的数据结构。它支持两种基本操作：

1. **查找（Find）**：确定一个元素属于哪个集合。
2. **合并（Union）**：将两个集合合并为一个集合。

并查集的主要应用场景是解决**动态连通性**问题，例如判断两个元素是否属于同一组，以及将两个组合并成一组。

并查集的实现通常会使用**路径压缩**和**按秩合并**来优化效率，使得查找和合并操作的时间复杂度几乎是常数 \(O(\alpha(n))\)，其中 \(\alpha\) 是阿克曼函数的反函数，增长极其缓慢。

### 并查集的核心思想

使用并查集来解决问题的核心思想在于：
1. **集合的合并和查询**：通过合并和查找操作，维护元素间的集合关系。借助并查集，可以快速判断两个元素是否属于同一集合。
2. **路径压缩**：在查找过程中将路径上的节点直接连接到根节点，以减少查询深度。
3. **按秩合并**：在合并时，总是将小的树合并到大的树上，以减少树的高度，从而加速查找。

并查集常用于处理**连通性**和**分组问题**，如检测图是否存在环、判断图的连通分量、解决不相交集等。

### LeetCode 中的典型并查集问题

以下是 LeetCode 上几个经典的并查集相关问题，涵盖连通性检测、群体划分等不同应用场景：

1. **[547. 省份数量 (Number of Provinces)](https://leetcode.com/problems/number-of-provinces/)**
   - **问题**：给定一个城市的邻接矩阵，找出有多少个省份（连通分量）。
   - **并查集思路**：将每个城市初始化为一个独立的集合，通过遍历邻接矩阵来合并连通的城市，最终统计集合数量。

2. **[684. 冗余连接 (Redundant Connection)](https://leetcode.com/problems/redundant-connection/)**
   - **问题**：给定一棵树，增加一条边后成了图，找出这条多余的边。
   - **并查集思路**：逐条添加边，并检查两个节点是否已经连通，如果已经连通，则该边为冗余边。

3. **[990. 等式方程的可满足性 (Satisfiability of Equality Equations)](https://leetcode.com/problems/satisfiability-of-equality-equations/)**
   - **问题**：给定一组等式和不等式，判断是否存在冲突。
   - **并查集思路**：将相等的变量合并成一个集合，然后检查不等式的变量是否在同一个集合中，如果是则返回 `false`。

4. **[1319. 连通网络的操作次数 (Number of Operations to Make Network Connected)](https://leetcode.com/problems/number-of-operations-to-make-network-connected/)**
   - **问题**：在一个网络中连通所有计算机，计算最少需要添加的边数。
   - **并查集思路**：通过并查集来判断需要多少次合并操作才能使所有计算机连通，同时统计剩余的多余边。

5. **[721. 账户合并 (Accounts Merge)](https://leetcode.com/problems/accounts-merge/)**
   - **问题**：合并多个用户的账户，账户之间通过共享邮箱连接。
   - **并查集思路**：将每个账户视为一个节点，通过共享邮箱将它们连接起来，使用并查集查找和合并具有共同邮箱的账户。

6. **[305. 岛屿数量 II (Number of Islands II)](https://leetcode.com/problems/number-of-islands-ii/)** 
   - **问题**：动态地在一个网格中添加岛屿，计算每次操作后岛屿的数量。
   - **并查集思路**：在添加岛屿时，判断新增岛屿与相邻岛屿是否已连通，若未连通则进行合并操作。

### 总结

并查集在处理集合合并和查询连通性时非常高效，因此被广泛用于各种图相关的问题。LeetCode 中的这些问题不仅能帮助理解并查集的基本操作，也提供了很多场景化的应用，适合进一步深入学习。
