|LeetCode|要点|
|--------------------------------|--------------------------------|
|[215. 数组中的第K个最大元素][github-leetcode-0215]|TopK问题；size为k的小顶堆；|
|[1046. 最后一块石头的重量][github-leetcode-1046]|优先级队列：弹出2块石头，差值push回去；|


在 C++ 中，**`priority_queue`** 是标准模板库（STL）中的一种容器适配器，用于管理优先级队列。它的特点是：
- **元素自动排序**：`priority_queue` 总是保持队首为最大元素（默认是大顶堆）。也可以通过自定义比较函数或仿函数，使其成为小顶堆。
- **内部实现**：底层基于堆（通常是二叉堆）实现，插入和删除操作的时间复杂度为 \(O(\log n)\)。
- **只允许访问最大/最小元素**：只能访问队首元素（即优先级最高的元素），无法直接遍历整个队列。

### 1. **特点**
- **自动维护顺序**：`priority_queue` 会自动将元素根据优先级（即值的大小）进行排列，默认情况下是大顶堆（最大元素优先）。
- **时间复杂度**：插入和删除操作的时间复杂度为 \(O(\log n)\)，而获取队首元素的时间复杂度为 \(O(1)\)。
- **适合处理动态优先级问题**：适合需要动态维护最大或最小值的问题，比如找到当前的最大或最小元素。

### 2. **常用操作**
- **`push()`**：插入元素到队列中，自动按优先级排列。
- **`pop()`**：移除队首元素（即优先级最高的元素）。
- **`top()`**：返回队首元素，但不移除它。
- **`empty()`**：检查队列是否为空。
- **`size()`**：返回队列中的元素个数。

### 3. **适用场景**
由于 `priority_queue` 能有效维护元素的优先级顺序，适合以下问题类型：
- **动态维护最大值或最小值**：如动态求数组中的最大值或最小值。
- **调度问题**：如任务调度、事件驱动的模拟等，需要根据优先级安排执行顺序。
- **贪心算法**：某些贪心算法问题，如哈夫曼编码、最小生成树（Prim's 算法）。
- **最短路径算法**：在 Dijkstra 算法中，`priority_queue` 可以用于高效选择当前最小路径的节点。

### 4. **LeetCode 中涉及 `priority_queue` 的问题**
在 LeetCode 中，`priority_queue` 常被用来解决与堆相关的问题，尤其是在处理动态最值的场景。以下是一些典型的 LeetCode 问题：

#### **1. LeetCode 703 - Kth Largest Element in a Stream**
   - **描述**：动态维护数据流中的第 `k` 大元素。
   - **思路**：使用一个小顶堆来保存前 `k` 大的元素，每当插入一个新元素时，检查是否需要更新堆。

#### **2. LeetCode 215 - Kth Largest Element in an Array**
   - **描述**：找到无序数组中的第 `k` 大元素。
   - **思路**：可以使用小顶堆，维护一个大小为 `k` 的堆，堆顶即为第 `k` 大元素。

#### **3. LeetCode 347 - Top K Frequent Elements**
   - **描述**：找到数组中出现频率最高的 `k` 个元素。
   - **思路**：通过频率构建小顶堆，保持大小为 `k` 的堆以保存频率最高的元素。

#### **4. LeetCode 23 - Merge k Sorted Lists**
   - **描述**：合并 `k` 个有序链表为一个有序链表。
   - **思路**：使用优先队列维护每个链表当前节点的最小值，每次弹出最小的节点，并将其后续节点加入优先队列。

#### **5. LeetCode 378 - Kth Smallest Element in a Sorted Matrix**
   - **描述**：从一个排好序的矩阵中找到第 `k` 小的元素。
   - **思路**：通过小顶堆动态维护最小元素。

#### **6. LeetCode 407 - Trapping Rain Water II**
   - **描述**：在二维矩阵中计算能收集多少雨水。
   - **思路**：使用优先队列维护矩阵的边界，逐步推进内部的水位高度。

### 5. **总结**
C++ 中的 `priority_queue` 是一个基于堆实现的高效容器，适合解决需要动态维护最大或最小值的问题。它被广泛应用于各种算法，如贪心算法、图算法（如 Dijkstra 和 Prim's）、动态排序等。通过熟练掌握 `priority_queue` 的用法，可以高效解决 LeetCode 中很多涉及堆的经典问题。

[github-leetcode-0215]: ../../0215.%20Kth%20Largest%20Element%20in%20an%20Array/0215_findKthLargest.h
[github-leetcode-1046]: ../../1046.%20Last%20Stone%20Weight/1046_lastStoneWeight.h
